<!-- docs/runbooks/slippage_spike.md -->

# Runbook: Рост проскальзывания (`slippage_spike`)

## 1. Контекст

Алерт `slippage_spike` означает, что средний/максимальный slippage по сделкам существенно вырос относительно исторической нормы.

## 2. Как распознать проблему

1. Алерт `slippage_spike`.
2. На дашборде:
   - рост `slippage_bps` по одному или нескольким символам;
   - возможная корреляция с ростом latency/ошибок Bybit.

## 3. Пошаговые действия

1. Проверить данные:
   - корректно ли считается slippage (нет ли изменений в расчёте requested/avg_fill price);
   - нет ли аномальных outlier-сделок.
2. Сопоставить с ликвидностью:
   - проверить объёмы и спред по стакану (если логируется `orderbook_l50_log`);
   - нет ли сильного сужения ликвидности в часы/дни алерта.
3. Проверить конфигурацию ордеров:
   - тип ордеров (market/limit);
   - допустимое отклонение цены, время жизни.

## 4. Митигация

1. Снизить размер позиций по затронутым инструментам.
2. При необходимости:
   - перейти с market на более консервативные limit-ордера;
   - увеличить tolerances для исполнения (с учётом риска).
3. Если проблема во внешней ликвидности:
   - временно исключить конкретные символы/периоды из торговли.

## 5. Проверка восстановления

- slippage вернулся к историческим значениям;
- нет продолжения trend’а роста slippage после принятых мер.
